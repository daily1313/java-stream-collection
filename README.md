# java-stream-collection

* reference-1: https://github.com/MangKyu/stream-quiz
* reference-2: https://www.elancer.co.kr/blog/detail/255


## Stream

- 일련의 데이터의 흐름을 표준화된 방법으로 쉽게 가공, 처리할 수 있도록 도와주는 클래스
- 요소들의 Stream에 함수형 연산을 지원하는 클래스
- Stream API는 이러한 작업을 간편하게 수행할 수 있도록 다양한 기능을 제공할 뿐만 아니라, 병렬 처리를 통해 처리 속도를 높일 수 있습니다.
- 따라서, Collection F/W를 통해 관리하는 데이터를 처리하기 위해 주로 사용합니다.
- Stream API의 다양한 기능들은 대부분 람다를 필요로 하기 때문에 람다를 이해하고 사용할 수 있어야 합니다.

### Stream 연산

- 각 연산의 연결을 통해 파이프라인을 구성합니다.
- 파이프라인을 구성할 수 있다는 것은 스트림 대상 데이터에 대한 다양한 연산을 조합할 수 있다는 것을 의미합니다.
- 스트림을 이용한 연산 처리는 스트림 객체의 생성부터 중간 연산, 그리고 최종 연산 단계로 구분합니다.
- 스트림 객체가 제공하는 다양한 연산을 이해하고 연산에 필요한 람다표현식을 이해하고 적용하는 것이 중요합니다.

### Stream Flow

<img width="814" height="165" alt="Image" src="https://github.com/user-attachments/assets/1c2d3d99-f9db-4c95-8030-c680bab3d992" />

### Stream 생성

- 데이터의 컬렉션(집합)을 Stream으로 변환하는 과정입니다.
- Stream API를 사용하기 위해서 최초 1번 수행되어야 하며, 생성 단계에서는 모든 데이터를 한꺼번에 불러오지 않고 필요할때만 불러옵니다.
    - 이를 통해 메모리 사용량을 최적화하고 효율성이 증대됩니다.

### 가공(중간 연산)

- 가공(중간연산): 소스의 데이터 집합을 원하는 형태로 가공하는 것
    - filter, map과 같은 연산으로 Stream을 반환
    - 중간 연산은 연속에서 호출하는 메소드 체이닝으로 구현이 가능합니다.
    - 최종 연산이 실행되어야 중간연산이 처리되므로 중간연산들로만 구성된 메소드 체인은 실행되지 않습니다. (Lazy Evaluation)
    - Lazy Evaluation: 최종 연산을 호출하기 전까지 중간 연산을 지연시키는 행위

### 매핑(Map)

- 스트림 매핑(map) 연산은 스트림이 관리하는 데이터를 다른 형태의 데이터로 반환할 수 있도록 합니다.
- 매핑 연산의 메소드는 map(), mapToInt(), mapToDouble(), mapToLong()이 있습니다.
- 주로 사용하는 메소드는 map() 메소드이며 파라미터는 Function 함수형 인터페이스 입니다.
- double, int, long 기본형 데이터 타입의 데이터를 처리하기 위한 메소드들은 매핑된 값의 결과가 기본형 데이터 타입일 경우 적용하여 사용합니다.

### 가공의 종류

- filter: 필터 처리 (조건문을 통한 데이터 선별)
- map: 데이터 변환
- sorted: 정렬
- peek: 가공된 데이터를 파악하기 위한 용도
- disctinct: 중복 제거
- limit: 개수 제한

### 최종 연산

- 최종연산: Stream에 대한 최종 연산을 수행하는 것. (최종적인 목적물을 얻는 처리과정)
  - forEach, collect와 같은 연산으로 void를 반환하거나 컬렉션 타입을 반환
  - 스트림이 관리하는 전체 데이터에 대한 순회 작업은 최종 연산인 forEach() 메소드를 이용합니다.
  - collect() 메소드는 스트림 처리 이후 처리된 데이터에 대해 Collection 객체로 반환하는 메소드 입니다.
  - 스트림의 최종 연산은 forEach()와 같은 스트림 처리 결과를 바로 확인할 수 있는 연산이 있고, 데이터를 모두 소모한 이후에 그 결과를 알 수 있는 count()와 같은 연산이 있습니다.
  - 이 외에도 특정 데이터를 검색할 수 있는 allMatch(), anyMatch() 등과 같은 다양한 메소드들을 제공합니다.

### 최종 연산 종류

- forEach(): stream의 각 요소를 순회하면서 출력 등의 처리를 위해 사용합니다.
- reduce(): stream의 요소를 줄여나가면서 연산을 수행합니다.
- findFirst(), findAny():  특정 조건에 맞는 요소를 찾기 위해 사용합니다.
- anyMatch(), allMatch(), noneMatch(): 조건에 맞는지 확인을 위해 사용합니다.
- count(), min(), max(), sum(), average(): 요소의 개수, 최소(대)값, 합계, 평균을 위해 사용합니다.
- collect(): stream의 요소를 수집하여 원하는 형태로 변환하기 위해서 사용합니다.
  - toList(), toSet(), toCollection(), toArray(), toMap()

### Stream 특징

- 선언적으로 코딩이 가능합니다.
- 연속적으로 필터링, 매핑, 정렬을 체이닝으로 표현할 수 있습니다.
- 간결하고 명확한 코드로 데이터를 처리할 수 있어서 코드의 유지보수성과 가독성이 향상됩니다.
- 병렬처리를 지원합니다. (멀티스레드로 병렬처리 후 대량의 데이터를 빠르고 쉽게 처리) (parallel(), parallelStream())